{# templates/information/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Your informations{% endblock %}

{% block body %}
    <section class="information mx-4">
        <h1>Your personnal informations</h1>
        {% if is_granted("ROLE_USER") %}
            {{ include('components/_flash_messages.html.twig') }}
            {{ form_errors(informationForm) }}
            {{ form_start(informationForm) }}
                <div class="form-information">
                    <div class="form-class">
                        <input type="text" id="username" class="email" name="_username" value="{{ app.user.email }}" />
                    </div>
                    <div class="form-class">
                        {{ form_widget(informationForm.firstname, {'attr': {'class': 'firstname', 'placeholder': 'Firstname', 'value': app.user.firstname}}) }}
                    </div>
                    <div class="form-class">
                        {{ form_widget(informationForm.lastname, {'attr': {'class': 'lastname', 'placeholder': 'Lastname', 'value': app.user.lastname}}) }}
                    </div>
                    <div class="form-class">
                        {{ form_widget(informationForm.phone, {'attr': {'class': 'phone', 'placeholder': 'Phone number', 'value': app.user.phone}}) }}
                    </div>
                    <div class="form-class">
                        <button type="submit" class="btn submit">Validate</button>
                    </div>
                </div>
            {{ form_end(informationForm) }}
        {% else %}
            <p class="text-center">You are not connected !</p>
            <a class="text-center" href="{{ path('home') }}">Back to home page</a>
        {% endif %}
    </section>
{% endblock %}
